<shop-navbar></shop-navbar>

<div id='product'>
  <button type="submit" class="btn btn-white back-btn" ng-click='ctrl.goBack()'>Back</button>

  <div class="container-fluid" id="top">

    <div class="row">

      <div class="col-xs-5">
        <img class="movie-poster" src="{{ctrl.product.image}}" id="products">
      </div>

      <div class="col-xs-7" id="info">

        <h1>{{ctrl.product.name}}</h1>

        <p>{{ctrl.product.description}}</p>

        <h3>{{ctrl.product.price | currency}}</h3>

        <h5 ng-hide='ctrl.product.quantity <= 0'>Remaining in Stock: {{ctrl.product.quantity - ctrl.cartCount}}</h5>

        <h3 ng-show='ctrl.product.quantity <= 0' class='warning-text'>SOLD OUT</h3>

        <form name='quantForm' class="form-inline" id="formmargin" ng-hide='ctrl.product.quantity <= 0' novalidate>

          <h5>Quantity: </h5><input type="number" class="form-control" ng-model='ctrl.quantity' max={{ctrl.product.quantity}}></input>
          <!-- <div data-toggle="modal" data-target="#myModal" class="btnmargin"> -->
          <div class="btnmargin">
            <button type="submit" 
              class="btn btn-green btn-lg" 
              ng-click='ctrl.addtoCart(quantForm.$valid)'
              ng-disabled='(ctrl.product.quantity - ctrl.cartCount) <= 0'>Add to Cart</button>
          </div>
          <!-- </div> -->

        </form>

      </div>

  </div>
</div>
<footer></footer>
<!-- Make a modal window to pop up saying the order has been added to the cart -->

      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">

            <div class="modal-body" style="font-size: 18px">
              <h3>This items have been added to your order:</h3>
              <p>
                <br>
                <b>Name:</b> {{ctrl.product.name}}
                <br>
                <b>Quantity:</b> {{ctrl.quantity}}
              </p>
                <br>

              <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="ctrl.openCart_v2()">See your order</button>
            </div>

          </div>
        </div>
      </div>

      <div>
        {{productVm.product.name}}
      </div>

    <!-- </div>

  </div>

</div>
 -->
